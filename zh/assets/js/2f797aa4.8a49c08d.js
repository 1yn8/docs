"use strict";(self.webpackChunkk_3_s_docs=self.webpackChunkk_3_s_docs||[]).push([[101],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var o=r.createContext({}),p=function(e){var t=r.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},k=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),k=p(a),h=n,c=k["".concat(o,".").concat(h)]||k[h]||m[h]||l;return a?r.createElement(c,s(s({ref:t},u),{},{components:a})):r.createElement(c,s({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,s=new Array(l);s[0]=k;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var p=2;p<l;p++)s[p]=a[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}k.displayName="MDXCreateElement"},5815:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=a(3117),n=(a(7294),a(3905));const l={hide_table_of_contents:!0},s="v1.28.X",i={unversionedId:"release-notes/v1.28.X",id:"release-notes/v1.28.X",title:"v1.28.X",description:"Before upgrading from earlier releases, be sure to read the Kubernetes Urgent Upgrade Notes.",source:"@site/docs/release-notes/v1.28.X.md",sourceDirName:"release-notes",slug:"/release-notes/v1.28.X",permalink:"/zh/release-notes/v1.28.X",draft:!1,editUrl:"https://github.com/k3s-io/docs/edit/main/docs/release-notes/v1.28.X.md",tags:[],version:"current",lastUpdatedAt:1696930826,formattedLastUpdatedAt:"2023\u5e7410\u670810\u65e5",frontMatter:{hide_table_of_contents:!0},sidebar:"mySidebar",previous:{title:"v1.27.X",permalink:"/zh/release-notes/v1.27.X"},next:{title:"\u5df2\u77e5\u95ee\u9898",permalink:"/zh/known-issues/"}},o={},p=[{value:"Release v1.28.2+k3s1",id:"release-v1282k3s1",level:2},{value:"Changes since v1.28.1+k3s1:",id:"changes-since-v1281k3s1",level:3},{value:"Release v1.28.1+k3s1",id:"release-v1281k3s1",level:2},{value:"Changes since v1.27.5+k3s1:",id:"changes-since-v1275k3s1",level:3}],u={toc:p};function m(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"v128x"},"v1.28.X"),(0,n.kt)("admonition",{title:"Upgrade Notice",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Before upgrading from earlier releases, be sure to read the Kubernetes ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.28.md#urgent-upgrade-notes"},"Urgent Upgrade Notes"),".")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Version"),(0,n.kt)("th",{parentName:"tr",align:null},"Release date"),(0,n.kt)("th",{parentName:"tr",align:null},"Kubernetes"),(0,n.kt)("th",{parentName:"tr",align:null},"Kine"),(0,n.kt)("th",{parentName:"tr",align:null},"SQLite"),(0,n.kt)("th",{parentName:"tr",align:null},"Etcd"),(0,n.kt)("th",{parentName:"tr",align:null},"Containerd"),(0,n.kt)("th",{parentName:"tr",align:null},"Runc"),(0,n.kt)("th",{parentName:"tr",align:null},"Flannel"),(0,n.kt)("th",{parentName:"tr",align:null},"Metrics-server"),(0,n.kt)("th",{parentName:"tr",align:null},"Traefik"),(0,n.kt)("th",{parentName:"tr",align:null},"CoreDNS"),(0,n.kt)("th",{parentName:"tr",align:null},"Helm-controller"),(0,n.kt)("th",{parentName:"tr",align:null},"Local-path-provisioner"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"/zh/release-notes/v1.28.X#release-v1282k3s1"},"v1.28.2+k3s1")),(0,n.kt)("td",{parentName:"tr",align:null},"Sep 20 2023"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.28.md#v1282"},"v1.28.2")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/kine/releases/tag/v0.10.3"},"v0.10.3")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://sqlite.org/releaselog/3_42_0.html"},"3.42.0")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/etcd/releases/tag/v3.5.9-k3s1"},"v3.5.9-k3s1")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/containerd/releases/tag/v1.7.6-k3s1"},"v1.7.6-k3s1")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/opencontainers/runc/releases/tag/v1.1.8"},"v1.1.8")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/flannel-io/flannel/releases/tag/v0.22.2"},"v0.22.2")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.6.3"},"v0.6.3")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/traefik/traefik/releases/tag/v2.9.10"},"v2.9.10")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/coredns/coredns/releases/tag/v1.10.1"},"v1.10.1")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/helm-controller/releases/tag/v0.15.4"},"v0.15.4")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/rancher/local-path-provisioner/releases/tag/v0.0.24"},"v0.0.24"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"/zh/release-notes/v1.28.X#release-v1281k3s1"},"v1.28.1+k3s1")),(0,n.kt)("td",{parentName:"tr",align:null},"Sep 08 2023"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.28.md#v1281"},"v1.28.1")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/kine/releases/tag/v0.10.3"},"v0.10.3")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://sqlite.org/releaselog/3_42_0.html"},"3.42.0")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/etcd/releases/tag/v3.5.9-k3s1"},"v3.5.9-k3s1")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/containerd/releases/tag/v1.7.3-k3s2"},"v1.7.3-k3s2")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/opencontainers/runc/releases/tag/v1.1.8"},"v1.1.8")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/flannel-io/flannel/releases/tag/v0.22.2"},"v0.22.2")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.6.3"},"v0.6.3")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/traefik/traefik/releases/tag/v2.9.10"},"v2.9.10")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/coredns/coredns/releases/tag/v1.10.1"},"v1.10.1")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/k3s-io/helm-controller/releases/tag/v0.15.4"},"v0.15.4")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/rancher/local-path-provisioner/releases/tag/v0.0.24"},"v0.0.24"))))),(0,n.kt)("br",null),(0,n.kt)("h2",{id:"release-v1282k3s1"},"Release v1.28.2+k3s1"),(0,n.kt)("p",null,"This release updates Kubernetes to v1.28.2, and fixes a number of issues."),(0,n.kt)("p",null,"For more details on what's new, see the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.28.md#changelog-since-v1281"},"Kubernetes release notes"),"."),(0,n.kt)("h3",{id:"changes-since-v1281k3s1"},"Changes since v1.28.1+k3s1:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Update channel for version v1.28 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8305"},"(#8305)")),(0,n.kt)("li",{parentName:"ul"},"Bump kine to v0.10.3 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8323"},"(#8323)")),(0,n.kt)("li",{parentName:"ul"},"Update to v1.28.2 and go v1.20.8 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8364"},"(#8364)"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Bump embedded containerd to v1.7.6"),(0,n.kt)("li",{parentName:"ul"},"Bump embedded stargz-snapshotter plugin to latest"),(0,n.kt)("li",{parentName:"ul"},"Fixed intermittent drone CI failures due to race conditions in test environment setup scripts"),(0,n.kt)("li",{parentName:"ul"},"Fixed CI failures due to changes to api discovery changes in Kubernetes 1.28")))),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"release-v1281k3s1"},"Release v1.28.1+k3s1"),(0,n.kt)("p",null,"This release is K3S's first in the v1.28 line. This release updates Kubernetes to v1.28.1."),(0,n.kt)("admonition",{title:"IMPORTANT",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"This release includes remediation for CVE-2023-32187, a potential Denial of Service attack vector on K3s servers. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/k3s-io/k3s/security/advisories/GHSA-m4hf-6vgr-75r2"},"https://github.com/k3s-io/k3s/security/advisories/GHSA-m4hf-6vgr-75r2")," for more information, including documentation on changes in behavior that harden clusters against this vulnerability.")),(0,n.kt)("admonition",{title:"Critical Regression",type:"warning"},(0,n.kt)("p",{parentName:"admonition"},"Kubernetes v1.28 contains a critical regression (",(0,n.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kubernetes/issues/120247"},"kubernetes/kubernetes#120247"),") that causes init containers to run at the same time as app containers following a restart of the node. This issue will be fixed in v1.28.2. We do not recommend using K3s v1.28 at this time if your application depends on init containers.")),(0,n.kt)("p",null,"For more details on what's new, see the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.28.md#changelog-since-v1270"},"Kubernetes release notes"),"."),(0,n.kt)("h3",{id:"changes-since-v1275k3s1"},"Changes since v1.27.5+k3s1:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Update to v1.28.1 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8239"},"(#8239)")),(0,n.kt)("li",{parentName:"ul"},"CLI Removal for v1.28.0 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8203"},"(#8203)")),(0,n.kt)("li",{parentName:"ul"},"Secrets Encryption V3 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8111"},"(#8111)")),(0,n.kt)("li",{parentName:"ul"},"Add new CLI flag to disable TLS SAN CN filtering ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8252"},"(#8252)"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Added a new ",(0,n.kt)("inlineCode",{parentName:"li"},"--tls-san-security")," option."))),(0,n.kt)("li",{parentName:"ul"},"Add RWMutex to address controller ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/k3s-io/k3s/pull/8268"},"(#8268)"))),(0,n.kt)("hr",null))}m.isMDXComponent=!0}}]);